!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.statsig=e():t.statsig=e()}(this,(function(){return(()=>{var __webpack_modules__={763:t=>{t.exports={}},23:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,o=typeof t;if("string"===o){var i,s=[],a=t.length,u=0;for(r=0;r<a;++r)(i=t.charCodeAt(r))<128?s[u++]=i:i<2048?(s[u++]=192|i>>6,s[u++]=128|63&i):i<55296||i>=57344?(s[u++]=224|i>>12,s[u++]=128|i>>6&63,s[u++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),s[u++]=240|i>>18,s[u++]=128|i>>12&63,s[u++]=128|i>>6&63,s[u++]=128|63&i);t=s}else{if("object"!==o)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var l=[],c=[];for(r=0;r<64;++r){var f=t[r]||0;l[r]=92^f,c[r]=54^f}Sha256.call(this,e,n),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,o,i=0,s=t.length,a=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(o=this.start;i<s&&o<64;++i)a[o>>2]|=t[i]<<SHIFT[3&o++];else for(o=this.start;i<s&&o<64;++i)(r=t.charCodeAt(i))<128?a[o>>2]|=r<<SHIFT[3&o++]:r<2048?(a[o>>2]|=(192|r>>6)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(a[o>>2]|=(224|r>>12)<<SHIFT[3&o++],a[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++i)),a[o>>2]|=(240|r>>18)<<SHIFT[3&o++],a[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],a[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,o,i,s,a,u,l=this.h0,c=this.h1,f=this.h2,h=this.h3,d=this.h4,_=this.h5,y=this.h6,p=this.h7,v=this.blocks;for(t=16;t<64;++t)e=((o=v[t-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=v[t-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,v[t]=v[t-16]+e+v[t-7]+n<<0;for(u=c&f,t=0;t<64;t+=4)this.first?(this.is224?(i=300032,p=(o=v[0]-1413257819)-150054599<<0,h=o+24177077<<0):(i=704751109,p=(o=v[0]-210244248)-1521486534<<0,h=o+143694565<<0),this.first=!1):(e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(i=l&c)^l&f^u,p=h+(o=p+(n=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&_^~d&y)+K[t]+v[t])<<0,h=o+(e+r)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&l)^h&c^i,y=f+(o=y+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&d^~p&_)+K[t+1]+v[t+1])<<0,e=((f=o+(e+r)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(a=f&h)^f&l^s,_=c+(o=_+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&p^~y&d)+K[t+2]+v[t+2])<<0,e=((c=o+(e+r)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(u=c&f)^c&h^a,d=l+(o=d+(n=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&y^~_&p)+K[t+3]+v[t+3])<<0,l=o+(e+r)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+h<<0,this.h4=this.h4+d<<0,this.h5=this.h5+_<<0,this.h6=this.h6+y<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},306:t=>{"use strict";t.exports=JSON.parse('{"name":"statsig-js-client-sdk","version":"1.0.25","description":"Statsig javascript client SDK","main":"dist/statsig-prod-web-sdk.js","scripts":{"build":"webpack","test":"jest","types":"npx tsc","docs":"jsdoc2md index.js src/typedefs.js src/DynamicConfig.js > docs/generated.md"},"files":["index.d.ts","dist/statsig-prod-web-sdk.js","dist/statsig-dev-web-sdk.js"],"jsdelivr":"dist/statsig-prod-web-sdk.js","repository":{"type":"git","url":"git+https://github.com/statsig-io/statsig-js-client-sdk.git"},"author":"Statsig, Inc.","license":"ISC","bugs":{"url":"https://github.com/statsig-io/statsig-js-client-sdk/issues"},"keywords":["feature gate","feature flag","continuous deployment","ci","ab test"],"homepage":"https://www.statsig.com","devDependencies":{"@babel/core":"^7.13.1","@babel/preset-env":"^7.13.5","@types/jest":"^26.0.20","babel-loader":"^8.2.2","jest":"^26.6.3","jsdoc":"^3.6.6","jsdoc-to-markdown":"^7.0.0","terser-webpack-plugin":"^5.1.1","typescript":"^4.2.2","webpack":"^5.24.2","webpack-cli":"^4.5.0"},"dependencies":{"js-sha256":"^0.9.0","uuid":"^8.3.2","whatwg-fetch":"^3.6.2"},"types":"dist/main.js"}')}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](e,e.exports,__webpack_require__),e.exports}__webpack_require__.amdO={},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};return(()=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}__webpack_require__.d(__webpack_exports__,{default:()=>at});const n=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),null!=t&&"string"==typeof t||(t=""),this.time=Date.now(),this.eventName=t,this.statsigMetadata={}}var r,o,i;return r=n,(o=[{key:"setValue",value:function(t){null!=t&&"string"!=typeof t&&"number"!=typeof t||(this.value=t)}},{key:"setMetadata",value:function(e){null!=e&&"object"!==t(e)||(this.metadata=e)}},{key:"setUser",value:function(t){this.user=t}},{key:"addStatsigMetadata",value:function(t,e){null!=t&&(this.statsigMetadata[t]=e)}},{key:"validate",value:function(){return"string"==typeof this.eventName&&this.eventName.length>0}},{key:"toObject",value:function(){return{eventName:this.eventName,metadata:this.metadata,statsigMetadata:this.statsigMetadata,time:this.time,user:this.user,value:this.value}}}])&&e(r.prototype,o),i&&e(r,i),n}();var r,o="statsig::";function i(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if("function"==typeof t.log){var a=new n(o+r);a.setValue(i),null==s&&(s={}),a.setMetadata(s),a.setUser(e),null!=s.error?t.log(a,r+s.error):t.log(a)}}var s=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const l=function(t){return"string"==typeof t&&u.test(t)};for(var c=[],f=0;f<256;++f)c.push((f+256).toString(16).substr(1));const h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(t,e,n){var r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return h(r)};var _={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_.local||"undefined"==typeof Storage||null==window||null==window.localStorage||(_.local=window.localStorage),_.async||null==t||"function"!=typeof t.getItem||"function"!=typeof t.setItem||"function"!=typeof t.removeItem||(_.async=t)},getItemAsync:function(t){return _.local?Promise.resolve(_.local.getItem(t)):_.async?_.async.getItem(t):Promise.resolve()},setItemAsync:function(t,e){return _.local?(_.local.setItem(t,e),Promise.resolve()):_.async?_.async.setItem(t,e):Promise.resolve()},removeItemAsync:function(t){return _.local?(_.local.removeItem(t),Promise.resolve()):_.async?_.async.removeItem(t).catch((function(){return Promise.resolve()})):Promise.resolve()}};const y=_;var p="STATSIG_LOCAL_STORAGE_STABLE_ID";function v(){var t,e;return null!==(t=null===(e=__webpack_require__(306))||void 0===e?void 0:e.version)&&void 0!==t?t:""}function g(){var t,e;return null!==(t=null===(e=__webpack_require__(306))||void 0===e?void 0:e.name)&&void 0!==t?t:""}function m(){return d()}function S(){return y.getItemAsync(p).then((function(t){if(t)return Promise.resolve(t);throw new Error("No stable ID found in local storage.")})).catch((function(){var t=m();return y.setItemAsync(p,t).then((function(){return Promise.resolve(t)})).catch((function(){return Promise.resolve(t)}))}))}function b(t){return null==t?null:JSON.parse(JSON.stringify(t))}function A(t){if(null==t)return null;var e=Number(t);return"number"==typeof e&&!isNaN(e)&&isFinite(e)&&null!=t?e:null}function w(t){return null==t?null:"true"===t.toString().toLowerCase()||"false"!==t.toString().toLowerCase()&&null}function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,n){"string"==typeof t&&0!==t.length||(t=""),null==e&&(e={}),this.name=t,this.value=b(e),this._groupName=n}E.prototype.validateDefault=function(t,e){if(null==t)throw new Error("You must provide a valid default value to check config parameters");var n=Array.isArray(t)?"array":H(t);if(n!==e)throw new Error("Expected type of "+e+" but got "+n+" for the default value.");return t},E.prototype.getBool=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=this.validateDefault(e,"boolean"),!t||null==this.value[t])return e;var n=w(this.value[t]);return null==n?e:n},E.prototype.getString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e=this.validateDefault(e,"string"),!t||null==this.value[t])return e;var n=this.value[t];if("number"==typeof n||"boolean"==typeof n)n=n.toString();else if("object"===H(n))return e;return n},E.prototype.getNumber=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=this.validateDefault(e,"number"),!t||null==this.value[t])return e;var n=A(this.value[t]);return null==n?e:n},E.prototype.getArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e=this.validateDefault(e,"array"),!t||null==this.value[t])return e;var n=this.value[t];return null!=n&&Array.isArray(n)?n:e},E.prototype.getObject=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=this.validateDefault(e,"object"),!t||null==this.value[t])return new E(t,e,"statsig::invalid_config");var n=this.value[t];return"object"!==H(n)?new E(t,e,"statsig::invalid_config"):new E(t,n,this._groupName)},E.prototype.getRawValue=function(){return this.value},E.prototype.getGroupName=function(){return this._groupName};const R=E;function k(t){return new R(null!=t?t:"invalid_config_name",{},"statsig::invalid_config")}var C=[408,500,502,503,504,522,524,599],I={init:function(){null==I.leakyBucket&&(I.leakyBucket={})},postWithTimeout:function(t,e,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1e3;if("string"!=typeof t||0===t.length)return Promise.reject(new Error("url is invalid."));var u=this.post(t,e,n,s,a).then((function(e){return e.ok?e.json().then((function(t){return"function"==typeof r&&r(t),Promise.resolve(t)})):Promise.reject("Request to "+t+" failed with status "+e.status)})).catch((function(t){return"function"==typeof o&&o(t),Promise.reject(t)}));if(null!=i&&"number"==typeof i){var l=new Promise((function(t,e){setTimeout((function(){t()}),i)}));return Promise.race([u,l])}return u},post:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;this.init();var s=I.leakyBucket[t];if(null!=s&&s>=30)return Promise.reject(new Error("Request failed because you are making the same request too frequently."));I.leakyBucket[t]=null==s?1:s+1;var a={method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":e}};return fetch(t,a).then((function(e){return e.ok?Promise.resolve(e):(C.includes(e.status)||(o=0),Promise.reject("Request to "+t+" failed with status "+e.status))})).catch((function(s){return o>0?new Promise((function(s,a){setTimeout((function(){I.leakyBucket[t]=Math.max(I.leakyBucket[t]-1,0),r.post(t,e,n,o-1,2*i).then(s).catch(a)}),i)})):Promise.reject(s)})).finally((function(){I.leakyBucket[t]=Math.max(I.leakyBucket[t]-1,0)}))}};const O=I;function X(t){var e,n,r,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,h={},d={},_={sessionID:m(),sdkType:null!==(e=null==s?void 0:s.sdkType)&&void 0!==e?e:g(),sdkVersion:null!==(n=null==s?void 0:s.sdkVersion)&&void 0!==n?n:v()};if(null!=u&&null!=a)if("android"===(null===(r=u.OS)||void 0===r?void 0:r.toLocaleLowerCase()))_.locale=null==a||null===(i=a.I18nManager)||void 0===i?void 0:i.localeIdentifier;else if("ios"===(null===(o=u.OS)||void 0===o?void 0:o.toLocaleLowerCase())){var y,p,A,w;_.locale=(null==a||null===(y=a.SettingsManager)||void 0===y||null===(p=y.settings)||void 0===p?void 0:p.AppleLocale)||(null==a||null===(A=a.SettingsManager)||void 0===A||null===(w=A.settings)||void 0===w?void 0:w.AppleLanguages[0])}if(null!=l){var H,E,R,k,C;_.appVersion=null!==(H=l.getVersion())&&void 0!==H?H:"",_.systemVersion=null!==(E=l.getSystemVersion())&&void 0!==E?E:"",_.systemName=null!==(R=l.getSystemName())&&void 0!==R?R:"",_.deviceModelName=null!==(k=l.getModel())&&void 0!==k?k:"",_.deviceModel=null!==(C=l.getDeviceId())&&void 0!==C?C:""}else{var I,O,X,j,N,T;if(null!=c)_.appVersion=null!==(I=null!==(O=c.nativeAppVersion)&&void 0!==O?O:c.nativeBuildVersion)&&void 0!==I?I:"";if(null!=f)_.systemVersion=null!==(X=f.osVersion)&&void 0!==X?X:"",_.systemName=null!==(j=f.osName)&&void 0!==j?j:"",_.deviceModelName=null!==(N=f.modelName)&&void 0!==N?N:"",_.deviceModel=null!==(T=f.modelId)&&void 0!==T?T:""}return h.setStableIDAsync=function(){return S().then((function(t){return _.stableID=t,Promise.resolve()})).catch((function(){return Promise.resolve()}))},h.setUser=function(t){return null==(d=b(t))&&(d={}),_.sessionID=m(),!0},h.getUser=function(){return b(d)},h.getStatsigMetadata=function(){return _?b(_):{}},h.getUserID=function(){var t;return null!==(t=d.userID)&&void 0!==t?t:_.stableID},null!=t&&(d=b(t)),h}var j={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_encodeBinary:function(t){for(var e,n,r,o,i,s,a,u="",l=0;l<t.length;)o=(e=t.charCodeAt(l++))>>2,i=(3&e)<<4|(n=t.charCodeAt(l++))>>4,s=(15&n)<<2|(r=t.charCodeAt(l++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),u=u+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return u},encodeArrayBuffer:function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return j._encodeBinary(e)}},N=__webpack_require__(23);function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var D="STATSIG_LOCAL_STORAGE_INTERNAL_STORE";function P(t,e){var n={};function r(t){if("object"!==U(t)||null==t)return{};var e={};for(var n in t)n&&t[n]&&(e[n]=new R(n,t[n].value,t[n].group));return e}return n.cache={},n.loadFromLocalStorage=function(){return y.getItemAsync(D).then((function(t){if(t)try{var e=JSON.parse(t);if(null!=e)for(var r=0,o=Object.entries(e);r<o.length;r++){var i=T(o[r],2),s=i[0],a=i[1];if(n.cache[s]={gates:a.gates,configs:{}},null!=a.configs)for(var u=0,l=Object.entries(a.configs);u<l.length;u++){var c=T(l[u],2),f=c[0],h=c[1];n.cache[s].configs[f]=new R(h.name,h.value,h._groupName)}}}catch(t){y.removeItemAsync(D)}return Promise.resolve()})).catch((function(t){return Promise.resolve()}))},n.save=function(e,o){var i=t.getUserID();if(i)return n.cache[i]={gates:null!=e?e:{},configs:r(o)},y.setItemAsync(D,JSON.stringify(n.cache)).catch((function(){return Promise.resolve()}))},n.checkGate=function(r){var o;if("string"!=typeof r||0===r.length)return!1;var s=N.sha256.create().update(r).arrayBuffer(),a=j.encodeArrayBuffer(s),u=t.getUserID(),l=!1;return u&&null!==(o=n.cache[u])&&void 0!==o&&o.gates[a]&&(l=n.cache[u].gates[a]),function(t,e,n,r){i(t,e,"gate_exposure",null,{gate:n,gateValue:r})}(e,t.getUser(),r,l),l},n.getConfig=function(r){var o;if("string"!=typeof r||0===r.length)return k();var s=N.sha256.create().update(r).arrayBuffer(),a=j.encodeArrayBuffer(s),u=t.getUserID(),l=k();return u&&null!==(o=n.cache[u])&&void 0!==o&&o.configs[a]&&(l=n.cache[u].configs[a],function(t,e,n,r){i(t,e,"config_exposure",null,{config:n,configGroup:r})}(e,t.getUser(),r,l.getGroupName())),l},n}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L="STATSIG_LOCAL_STORAGE_LOGGING_REQUEST";function q(t,e,r){var o={},s=10,a=1e4,u=1e3,l=e.api+"/log_event",c=[],f=null,h=new Set,d=[];function _(){null!=f&&clearTimeout(f),f=setTimeout((function(){o.flush()}),a)}return"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",(function(){return o.flush(!0)})),window.addEventListener("beforeunload",(function(){return o.flush(!0)}))),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",(function(){"visible"!==document.visibilityState&&o.flush(!0)})),o.setFlushInterval=function(t){a=t},o.setFlushBatchSize=function(t){s=t,c.length>s&&this.flush()},o.setMaxEventQueueSize=function(t){u=t},o.log=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t instanceof n&&t.validate()){if(null!=e){if(h.has(e))return;h.add(e)}c.push(t),c.length>=s&&o.flush(),_()}},o.flush=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0!==c.length){var a=c;c=[],O.post(l,r,{statsigMetadata:t.getStatsigMetadata(),events:a}).then((function(t){if(!t.ok)throw Error(t.status)})).catch((function(n){(c=a.concat(c)).length>=s&&(s=Math.min(c.length+s,u)),c.length>u&&(c=c.slice(c.length-u+10)),i(e,t.getUser(),"log_event_failed",null,{error:n.message})})).finally((function(){if(n){if(c.length>0){var e={statsigMetadata:t.getStatsigMetadata(),events:c};d.push(e),c=[]}o.saveFailedRequests()}else _()}))}else n&&o.saveFailedRequests()},o.saveFailedRequests=function(){if(d.length>0){var t=d;d=[],y.setItemAsync(L,JSON.stringify(t)).catch((function(){}))}},o.switchUser=function(){o.flush(!0)},o.sendLocalStorageRequests=function(){var e=this;y.getItemAsync(L).then((function(t){if(t){var e,n=x(JSON.parse(t));try{var o=function(){var t=e.value;(function(t){if(null==t||"object"!==B(t))return!1;return null!=t.events&&Array.isArray(t.events)})(t)&&O.post(l,r,t).then((function(t){if(!t.ok)throw Error(t.status)})).catch((function(e){d.push(t)}))};for(n.s();!(e=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}}})).catch((function(n){i(e,t.getUser(),"get_local_storage_requests_failed",null,{error:n.message})})).finally((function(){y.removeItemAsync(L)}))},o}__webpack_require__(763);var V="https://api.statsig.com/v1";function W(t){if(null==t||t=={})return{api:V};return{api:function(e,n){var r=t[e];if(null==r||"string"!=typeof r)return n;return r}("api",V)}}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}__webpack_require__(763);var z,K,G,Y,Q,$,Z,tt,et,nt=64,rt=1024,ot={initialize:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!=ot._ready?Promise.resolve():"string"!=typeof t||0===t.length||!t.startsWith("client-")&&!t.startsWith("test-")?Promise.reject(new Error("Invalid key provided.  You must use a Client or Test SDK Key from the Statsig console with the js-client-sdk")):(ot._ready=!1,ot._sdkKey=t,ot._options=W(r),ot._identity=X(st(n),K,Q,$,et,Z,tt),y.init(G),ot._identity.setStableIDAsync().finally((function(){return ot._logger=q(ot._identity,ot._options,t),Y&&"function"==typeof Y.addEventListener&&(z=Y.currentState,Y.addEventListener("change",ot._handleAppStateChange)),ot._store=P(ot._identity,ot._logger),ot._store.loadFromLocalStorage().finally((function(){return e._fetchValues().catch((function(t){return Promise.resolve()})).finally((function(){ot._ready=!0,ot._logger.sendLocalStorageRequests()}))}))})))},checkGate:function(t){if(null==ot._store)return!1;if("string"!=typeof t)throw new Error("Must pass a valid string as a gateName to check");return ot._store.checkGate(t)},getConfig:function(t){if(null==ot._store)return k();if("string"!=typeof t)throw new Error("Must pass a valid string as a configName to check");return ot._store.getConfig(t)},logEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=ot._logger&&null!=t){it(t,nt)&&(t=t.substring(0,nt)),"string"==typeof e&&it(e,nt)&&(e=e.substring(0,nt)),it(r,rt)&&(r={error:"not logged due to size too large"});var o=new n(t);if(o.setValue(e),o.setMetadata(r),o.setUser(ot._identity.getUser()),null!=window&&null!=window.location&&null!=window.location.href){var i=window.location.href.split(/[?#]/);i.length>0&&o.addStatsigMetadata("currentPage",i[0])}ot._logger.log(o)}},updateUser:function(t){return null!=ot._identity&&ot._ready?(ot._ready=!1,t=st(t),ot._identity.setUser(t),ot._logger.switchUser(),ot._fetchValues().then((function(){return Promise.resolve(!0)})).catch((function(t){return Promise.resolve(!1)})).finally((function(){ot._ready=!0}))):Promise.resolve(!1)},isReady:function(){return!0===ot._ready},shutdown:function(){var t;null===(t=ot._logger)||void 0===t||t.flush(!0),Y&&"function"==typeof Y.removeEventListener&&Y.removeEventListener("change",this._handleAppStateChange)},_setReactNativeDependencies:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;K=t,G=e,Y=n,Q=r,$=o,et=i,Z=s,tt=a},_handleAppStateChange:function(t){var e;if("active"===z&&t.match(/inactive|background/))null===(e=ot._logger)||void 0===e||e.flush(!0);else if(z.match(/inactive|background/)&&"active"===t){var n;null===(n=ot._logger)||void 0===n||n.sendLocalStorageRequests()}z=t},_configure:function(t){ot.pollingDelay=3e3,ot.maxPollingDelay=18e4;var e=A(null==t?void 0:t.pollingDelay);null!=e&&(ot.pollingDelay=e);var n=A(null==t?void 0:t.maxPollingDelay);if(null!=n&&(ot.maxPollingDelay=n),null!=ot._logger){var r=A(null==t?void 0:t.flushInterval);null!=r&&ot._logger.setFlushInterval(r);var o=A(null==t?void 0:t.flushBatchSize);null!=r&&ot._logger.setFlushBatchSize(o);var i=A(null==t?void 0:t.maxEventQueueSize);null!=i&&ot._logger.setMaxEventQueueSize(i)}},_fetchValues:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return O.postWithTimeout(ot._options.api+"/initialize",ot._sdkKey,{user:ot._identity.getUser(),statsigMetadata:ot._identity.getStatsigMetadata()},(function(e){ot._store.save(e.gates,e.configs),ot._configure(e.sdkParams),"function"==typeof t&&t(e)}),(function(t){i(ot._logger,ot._identity.getUser(),"fetch_values_failed",null,{error:t.message}),"function"==typeof e&&e(t)}),3e3,10)}};function it(t,e){return null!=t&&("string"==typeof t?t.length>e:"object"===J(t)?JSON.stringify(t).length>e:"number"==typeof t&&t.toString().length>e)}function st(t){return null==t?null:(it(t.userID,nt)&&(t.userID=t.userID.toString().substring(0,nt)),it(t,rt)&&(t.custom={},it(t,rt)&&(t={userID:t.userID})),t)}const at=ot})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));